(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{895:function(t,i,r){"use strict";var s,e=Object.getPrototypeOf((s=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),n,this)})),function(){var t=s.apply(this,arguments);return new Promise((function(i,r){return function s(e,n){try{var h=t[e](n),o=h.value}catch(a){return void r(a)}if(!h.done)return Promise.resolve(o).then((function(t){s("next",t)}),(function(t){s("throw",t)}));i(o)}("next")}))})).constructor;window.rgb_quant_process_function=new e('var fu=async function(t,i){return new Promise((function(r,s){"use strict";function e(t){if(t=t||{},this.method=t.method||2,this.colors=t.colors||256,this.initColors=t.initColors||4096,this.initDist=t.initDist||.01,this.distIncr=t.distIncr||.005,this.hueGroups=t.hueGroups||10,this.satGroups=t.satGroups||10,this.lumGroups=t.lumGroups||10,this.minHueCols=t.minHueCols||0,this.hueStats=this.minHueCols?new h(this.hueGroups,this.minHueCols):null,this.boxSize=t.boxSize||[64,64],this.boxPxls=t.boxPxls||2,this.palLocked=!1,this.dithKern=t.dithKern||null,this.dithSerp=t.dithSerp||!1,this.dithDelta=t.dithDelta||0,this.histogram={},this.idxrgb=t.palette?t.palette.slice(0):[],this.idxi32=[],this.i32idx={},this.i32rgb={},this.useCache=!1!==t.useCache,this.cacheFreq=t.cacheFreq||10,this.reIndex=t.reIndex||0==this.idxrgb.length,this.colorDist="manhattan"==t.colorDist?f:c,this.idxrgb.length>0){var i=this;this.idxrgb.forEach((function(t,r){var s=(255<<24|t[2]<<16|t[1]<<8|t[0])>>>0;i.idxi32[r]=s,i.i32idx[s]=r,i.i32rgb[s]=t}))}}function h(t,i){this.numGroups=t,this.minCols=i,this.stats={};for(var r=-1;r<t;r++)this.stats[r]={num:0,cols:[]};this.groupsFull=0}e.prototype.sample=function(t,i){if(this.palLocked)throw"Cannot sample additional images, palette already assembled.";var r=b(t,i);switch(this.method){case 1:this.colorStats1D(r.buf32);break;case 2:this.colorStats2D(r.buf32,r.width)}},e.prototype.reduce=function(t,i,r,s){if(this.palLocked||this.buildPal(),r=r||this.dithKern,s=void 0!==s?s:this.dithSerp,i=i||1,r)var e=this.dither(t,r,s);else for(var h=b(t).buf32,n=h.length,o=(e=new Uint32Array(n),0);o<n;o++){var a=h[o];e[o]=this.nearestColor(a)}if(1==i)return new Uint8Array(e.buffer);if(2==i){var u=[];for(n=e.length,o=0;o<n;o++){a=e[o];u[o]=this.i32idx[a]}return u}},e.prototype.dither=function(t,i,r){var s={FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]],Jarvis:[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]],Burkes:[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]],Sierra:[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]],TwoSierra:[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]],SierraLite:[[.5,1,0],[1/4,-1,1],[1/4,0,1]]};if(!i||!s[i])throw"Unknown dithering kernel: "+i;for(var e=s[i],h=b(t),n=h.buf32,o=h.width,a=h.height,u=(n.length,r?-1:1),l=0;l<a;l++){r&&(u*=-1);for(var c=l*o,f=1==u?0:o-1,d=1==u?o:0;f!==d;f+=u){var p=c+f,x=n[p],g=255&x,v=(65280&x)>>8,m=(16711680&x)>>16,y=this.nearestColor(x),w=255&y,S=(65280&y)>>8,C=(16711680&y)>>16;if(n[p]=255<<24|C<<16|S<<8|w,this.dithDelta)if(this.colorDist([g,v,m],[w,S,C])<this.dithDelta)continue;for(var k=g-w,D=v-S,A=m-C,M=1==u?0:e.length-1,P=1==u?e.length:0;M!==P;M+=u){var F=e[M][1]*u,G=e[M][2],I=G*o;if(F+f>=0&&F+f<o&&G+l>=0&&G+l<a){var U=e[M][0],j=p+(I+F),q=255&n[j],H=(65280&n[j])>>8,O=(16711680&n[j])>>16,z=Math.max(0,Math.min(255,q+k*U)),L=Math.max(0,Math.min(255,H+D*U)),E=Math.max(0,Math.min(255,O+A*U));n[j]=255<<24|E<<16|L<<8|z}}}}return n},e.prototype.buildPal=function(t){if(!(this.palLocked||this.idxrgb.length>0&&this.idxrgb.length<=this.colors)){var i=this.histogram,r=function(t,i){var r=[];for(var s in t)r.push(s);return v.call(r,(function(r,s){return i?t[s]-t[r]:t[r]-t[s]}))}(i,!0);if(0==r.length)throw"Nothing has been sampled, palette cannot be built.";switch(this.method){case 1:for(var s=this.initColors,e=i[r[s-1]],h=r.slice(0,s),n=s,o=r.length;n<o&&i[r[n]]==e;)h.push(r[n++]);this.hueStats&&this.hueStats.inject(h);break;case 2:h=r}h=h.map((function(t){return+t})),this.reducePal(h),!t&&this.reIndex&&this.sortPal(),this.useCache&&this.cacheHistogram(h),this.palLocked=!0}},e.prototype.palette=function(t,i){return this.buildPal(i),t?this.idxrgb:new Uint8Array(new Uint32Array(this.idxi32).buffer)},e.prototype.prunePal=function(t){for(var i,r=0;r<this.idxrgb.length;r++)t[r]||(i=this.idxi32[r],this.idxrgb[r]=null,this.idxi32[r]=null,delete this.i32idx[i]);if(this.reIndex){for(var s=[],e=[],h={},n=(r=0,0);r<this.idxrgb.length;r++)this.idxrgb[r]&&(i=this.idxi32[r],s[n]=this.idxrgb[r],h[i]=n,e[n]=i,n++);this.idxrgb=s,this.idxi32=e,this.i32idx=h}},e.prototype.reducePal=function(t){if(this.idxrgb.length>this.colors){for(var i,r=t.length,s={},e=0,h=!1,n=0;n<r;n++)e!=this.colors||h||(this.prunePal(s),h=!0),i=this.nearestIndex(t[n]),e<this.colors&&!s[i]&&(s[i]=!0,e++);h||(this.prunePal(s),h=!0)}else{var o=t.map((function(t){return[255&t,(65280&t)>>8,(16711680&t)>>16]})),a=r=o.length,u=this.initDist;if(a>this.colors){for(;a>this.colors;){var l=[];for(n=0;n<r;n++){var c=o[n];t[n];if(c)for(var f=n+1;f<r;f++){var d=o[f],p=t[f];if(d){var x=this.colorDist(c,d);x<u&&(l.push([f,d,p,x]),delete o[f],a--)}}}u+=a>3*this.colors?this.initDist:this.distIncr}if(a<this.colors){v.call(l,(function(t,i){return i[3]-t[3]}));for(var g=0;a<this.colors;)o[l[g][0]]=l[g][1],a++,g++}}for(r=o.length,n=0;n<r;n++)o[n]&&(this.idxrgb.push(o[n]),this.idxi32.push(t[n]),this.i32idx[t[n]]=this.idxi32.length-1,this.i32rgb[t[n]]=o[n])}},e.prototype.colorStats1D=function(t){for(var i,r=this.histogram,s=t.length,e=0;e<s;e++)(4278190080&(i=t[e]))>>24!=0&&(this.hueStats&&this.hueStats.check(i),i in r?r[i]++:r[i]=1)},e.prototype.colorStats2D=function(t,i){var r=this.boxSize[0],s=this.boxSize[1],e=r*s,h=function(t,i,r,s){for(var e=t%r,h=i%s,n=t-e,o=i-h,a=[],u=0;u<i;u+=s)for(var l=0;l<t;l+=r)a.push({x:l,y:u,w:l==n?e:r,h:u==o?h:s});return a}(i,t.length/i,r,s),n=this.histogram,o=this;h.forEach((function(r){var s,h=Math.max(Math.round(r.w*r.h/e)*o.boxPxls,2),a={};!function(t,i,r){var s=t,e=s.y*i+s.x,h=(s.y+s.h-1)*i+(s.x+s.w-1),n=0,o=i-s.w+1,a=e;do{r.call(this,a),a+=++n%s.w==0?o:1}while(a<=h)}(r,i,(function(i){(4278190080&(s=t[i]))>>24!=0&&(o.hueStats&&o.hueStats.check(s),s in n?n[s]++:s in a?++a[s]>=h&&(n[s]=a[s]):a[s]=1)}))})),this.hueStats&&this.hueStats.inject(n)},e.prototype.sortPal=function(){var t=this;this.idxi32.sort((function(i,r){var s=t.i32idx[i],e=t.i32idx[r],h=t.idxrgb[s],n=t.idxrgb[e],o=d(h[0],h[1],h[2]),a=d(n[0],n[1],n[2]),u=h[0]==h[1]&&h[1]==h[2]?-1:p(o.h,t.hueGroups),l=(n[0]==n[1]&&n[1]==n[2]?-1:p(a.h,t.hueGroups))-u;if(l)return-l;var c=+a.l.toFixed(2)-+o.l.toFixed(2);if(c)return-c;var f=+a.s.toFixed(2)-+o.s.toFixed(2);return f?-f:void 0})),this.idxi32.forEach((function(i,r){t.idxrgb[r]=t.i32rgb[i],t.i32idx[i]=r}))},e.prototype.nearestColor=function(t){var i=this.nearestIndex(t);return null===i?0:this.idxi32[i]},e.prototype.nearestIndex=function(t){if((4278190080&t)>>24==0)return null;if(this.useCache&&""+t in this.i32idx)return this.i32idx[t];for(var i,r=1e3,s=[255&t,(65280&t)>>8,(16711680&t)>>16],e=this.idxrgb.length,h=0;h<e;h++)if(this.idxrgb[h]){var n=this.colorDist(s,this.idxrgb[h]);n<r&&(r=n,i=h)}return i},e.prototype.cacheHistogram=function(t){for(var i=0,r=t[i];i<t.length&&this.histogram[r]>=this.cacheFreq;r=t[i++])this.i32idx[r]=this.nearestIndex(r)},h.prototype.check=function(t){this.groupsFull==this.numGroups+1&&(this.check=function(){});var i=255&t,r=(65280&t)>>8,s=(16711680&t)>>16,e=i==r&&r==s?-1:p(d(i,r,s).h,this.numGroups),h=this.stats[e],n=this.minCols;h.num++,h.num>n||(h.num==n&&this.groupsFull++,h.num<=n&&this.stats[e].cols.push(t))},h.prototype.inject=function(t){for(var i=-1;i<this.numGroups;i++)if(this.stats[i].num<=this.minCols)switch(x(t)){case"Array":this.stats[i].cols.forEach((function(i){-1==t.indexOf(i)&&t.push(i)}));break;case"Object":this.stats[i].cols.forEach((function(i){t[i]?t[i]++:t[i]=1}))}};var n=.2126,o=.7152,a=.0722;function u(t,i,r){return Math.sqrt(n*t*t+o*i*i+a*r*r)}var l=Math.sqrt(65025);function c(t,i){var r=i[0]-t[0],s=i[1]-t[1],e=i[2]-t[2];return Math.sqrt(n*r*r+o*s*s+a*e*e)/l}function f(t,i){var r=Math.abs(i[0]-t[0]),s=Math.abs(i[1]-t[1]),e=Math.abs(i[2]-t[2]);return(n*r+o*s+a*e)/254.99999999999997}function d(t,i,r){var s,e,h,n,o;if(t/=255,i/=255,r/=255,(s=Math.max(t,i,r))==(e=Math.min(t,i,r)))h=n=0;else{switch(o=s-e,n=(s+e)/2>.5?o/(2-s-e):o/(s+e),s){case t:h=(i-r)/o+(i<r?6:0);break;case i:h=(r-t)/o+2;break;case r:h=(t-i)/o+4}h/=6}return{h:h,s:n,l:u(t,i,r)}}function p(t,i){var r=1/i,s=r/2;if(t>=1-s||t<=s)return 0;for(var e=1;e<i;e++){var h=e*r;if(t>=h-s&&t<=h+s)return e}}function x(t){return Object.prototype.toString.call(t).slice(8,-1)}var g,v="xyzvwtursopqmnklhijfgdeabc"==(g="abcdefghijklmnopqrstuvwxyz").split("").sort((function(t,i){return~~(g.indexOf(i)/2.3)-~~(g.indexOf(t)/2.3)})).join("")?Array.prototype.sort:function(t){var i=x(this[0]);if("Number"==i||"String"==i){for(var r,s={},e=this.length,h=0;h<e;h++)r=this[h],s[r]||0===s[r]||(s[r]=h);return this.sort((function(i,r){return t(i,r)||s[i]-s[r]}))}s=this.map((function(t){return t}));return this.sort((function(i,r){return t(i,r)||s.indexOf(i)-s.indexOf(r)}))};function b(t,i){var r,s,e,h;switch(x(t)){case"ImageData":h=(r=r||t).height,s="CanvasPixelArray"==x(r.data)?new Uint8Array(r.data):r.data;case"Array":case"CanvasPixelArray":s=s||new Uint8Array(t);case"Uint8Array":case"Uint8ClampedArray":s=s||t,e=new Uint32Array(s.buffer);case"Uint32Array":e=e||t,s=s||new Uint8Array(e.buffer),i=i||e.length,h=e.length/i}return{can:undefined,ctx:undefined,imgd:r,buf8:s,buf32:e,width:i,height:h}}try{var m=new e({colors:i,method:2,minHueCols:0,dithKern:null,dithSerp:!1});m.sample(t);m.palette(!0);var y=m.reduce(t);t.data.set(y),r(t)}catch(w){s(null)}}))};return fu;')(),t.exports={rgb_quant:function(t,i){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){},s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;null!==s?s.exec(window.rgb_quant_process_function,[t,i])["catch"]((function(r){return window.rgb_quant_process_function(t,i)})).timeout(5e3).then((function(t){r(t)})):window.rgb_quant_process_function(t,i).then((function(t){r(t)}))}}}}]);